You are a senior full-stack mobile engineer + product architect + ruthless scope controller.

GOAL:
Build a production-ready MOBILE APP MVP for a GARAGE (auto repair workshop) that can collect REAL MONEY in week 1.
Not a demo. Not a UI toy.

CONSTRAINTS (NON-NEGOTIABLE):
- Platform: Flutter (Android + iOS)
- Backend: Firebase ONLY (Auth, Firestore, Storage, Functions optional)
- No FlutterFlow
- No paid external services
- Solo-founder friendly
- Ship-fast architecture
- Clean modern UI, minimal. UI is a LIABILITY unless it increases conversion.

APP TYPE:
Garage Job Card + Quotation + Invoice + WhatsApp Share (B2B for garages)

TARGET USER:
- Small/medium garages (WhatsApp-first operations)
- Owner/service advisor
- Wants approval proof + professional PDF + payment tracking

CORE PAIN (ASSUME TRUE):
- Customer approves on WhatsApp then disputes
- Garage loses money due to scope creep and untracked items
- Invoices look unprofessional and inconsistent
- Approvals and payments are not recorded properly

MVP SCOPE (DO NOT ADD FEATURES):
1) Auth + Garage Profile
   - Email/password sign-in
   - Garage name, logo, phone, address

2) Customers
   - Create/search customer
   - Name + phone + optional car plate

3) Vehicles
   - Plate number
   - Make/model/year optional

4) Job Card (Core Object)
   - Create job card for a vehicle
   - Complaint/notes
   - Photos upload (before/after)
   - Status: Draft / Awaiting Approval / Approved / In Progress / Ready / Closed

5) Quotation (PDF)
   - Labor line items (name, qty, rate)
   - Parts line items (name, qty, rate)
   - Subtotal, VAT toggle, total
   - PDF includes garage details + customer + vehicle + job card number
   - Includes “Approve/Reject” link

6) Customer Approval Flow (must work)
   - Public secure approval link (tokenized)
   - Customer opens link without login
   - Approve or Reject + optional comment
   - Timestamp recorded
   - Status updates instantly

7) Invoice (PDF)
   - Convert approved quotation -> invoice
   - Invoice number
   - Payment status: Unpaid / Partial / Paid
   - Record payments: amount + method + date

8) Share (one-tap)
   - Share quotation PDF + approval link via WhatsApp
   - Share invoice PDF via WhatsApp
   - Provide pre-written WhatsApp message templates inside app

9) Dashboard (minimal)
   - Today paid total
   - Pending approvals count + amount
   - Unpaid invoices count + amount

==========================
CASH-FIRST MONETIZATION (MUST IMPLEMENT)
==========================

PRINCIPLE:
No payment = no real business value delivered.
The paywall must be tied to the most valuable action:
- sending professional PDF to customer
- getting approval
- issuing invoice

PLAN (HARD PAYWALL):
FREE plan allows ONLY:
- Create up to 3 job cards
- Build quotation inside app (preview only)
- NO PDF export
- NO WhatsApp share of PDF
- NO customer approval link
- NO invoice PDF

To unlock value (PRO):
- Enable PDF export + WhatsApp share
- Enable customer approval link
- Enable invoice PDF + payment tracking
- Remove watermark

WATERMARK RULE:
If you decide to allow 1 free PDF (optional), it MUST have a big watermark:
“TRIAL — Generated by [AppName]”
and footer text:
“Upgrade to remove watermark and enable approvals”
But default is: free has NO PDF.

UPGRADE FLOW:
- “Upgrade to Pro” screen
- Since payments can be implemented later, use a MANUAL UPGRADE toggle for now:
  Firestore: garages/{garageId}.plan = "pro"
- Also store:
  planActivatedAt, planExpiresAt (optional), upgradeSource

GATING IMPLEMENTATION:
- One central function: canExportPdf(garagePlan, usageCounters)
- Counters stored in Firestore:
  garages/{garageId}.usage:
    jobCardsCreated
    pdfExports
    approvalsCreated
    invoicesCreated

DO NOT IMPLEMENT REAL PAYMENT NOW unless simple.
Architecture must make it easy to plug payments later.

==========================
DO NOT BUILD
==========================
- Customer app
- Chat inside app
- Inventory/suppliers
- Appointment booking
- Multi-branch roles/permissions
- Push notifications
- Offline mode
- Deep analytics
- Fancy animations

==========================
REQUIRED OUTPUTS
==========================
1) Flutter project scaffold + folder structure
2) Screen list + navigation flow
3) Firestore schema (collections + fields + example docs)
4) Firestore rules (tight + safe):
   - garages isolated by garageId
   - only garage users can read/write their data
   - public approval token can only access one quotation and can write approval once
5) Required Firestore indexes
6) Implementation of core screens:
   - Login
   - Dashboard
   - Customers list + add
   - Vehicles add
   - Job card create + view
   - Quotation builder + preview
   - PRO paywall gate at PDF export + WhatsApp share + approval link
   - Public approval screen (no login) using token
   - Invoice create + payment record
   - Settings: garage profile + “Manual Upgrade” toggle (hidden behind long-press or admin flag)
7) PDF generation and Storage upload + link saved to Firestore
8) README: Firebase setup + run steps

PDF + STORAGE REQUIREMENTS:
- Generate PDF using a Flutter PDF library
- Upload PDF to Firebase Storage
- Save Storage path + download URL in Firestore
- Compress images before upload

STATE MGMT:
- Choose ONE: Riverpod OR Provider. Keep it simple. No over-architecture.

WHATSAPP MESSAGE TEMPLATES (MUST INCLUDE):
Template A (Quotation + approval):
"Hi {CustomerName}, here is your quotation for {VehiclePlate}. Total: {Total}. Please approve or reject here: {ApprovalLink}. PDF attached."

Template B (Invoice):
"Hi {CustomerName}, your invoice for {VehiclePlate} is ready. Amount due: {Total}. PDF attached. Thank you."

OUTPUT STYLE:
- No questions back to me.
- Make reasonable assumptions and label them.
- No fluff. Start with a clear implementation plan, then code.

START NOW.
